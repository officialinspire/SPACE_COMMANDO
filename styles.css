/* Basic styling for the page */
/* Reset body to occupy the entire viewport and provide a dark backdrop for the game. */
html, body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000 repeat-x top;
  background-size: auto 100%;
  /* Use our sci‑fi fonts by default throughout the page.  Orbitron
     provides a clean digital look, while Press Start 2P offers a
     pixelated retro feel for UI elements. */
  font-family: 'Orbitron', 'Press Start 2P', monospace;
  color: #fff;
}

/* -------------------------------------------------------------------
 * Mobile control bar
 *
 * A responsive touch controller appears at the bottom of the screen
 * when the game is played on a mobile device.  The controls are
 * hidden by default and revealed via JavaScript when a touch or
 * mobile environment is detected.  Buttons are styled with a retro
 * gold outline on a deep blue background to evoke an 8‑bit arcade
 * aesthetic.  The layout groups controls logically: shooting and
 * reloading on the left, store/jump/select in the centre, a
 * directional pad on the right and a menu button on the far edge.
 */
#mobile-controls {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  /* Reserve space for the control bar on mobile devices.  The height is
     reused in the mobile canvas sizing via a calc() expression. */
  --controls-height: 120px;
  height: var(--controls-height);
  background: #0f1c47;
  /* Hidden on desktop by default; shown via script on mobile */
  display: none;
  z-index: 500;
  padding: 8px;
  box-sizing: border-box;
  font-family: 'Press Start 2P', monospace;
  flex-direction: row;
  justify-content: space-around;
  align-items: center;
}

#mobile-controls .control-btn {
  background: #1a2e64;
  border: 3px solid #e3c95b;
  color: #f7e6b0;
  padding: 4px 6px;
  margin: 4px;
  font-size: 10px;
  width: 64px;
  height: 48px;
  text-align: center;
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Smaller arrow buttons */
#mobile-controls .arrow-btn {
  width: 40px;
  height: 40px;
  padding: 4px;
}

/* Wider menu button to accommodate the label */
#mobile-controls .menu-btn {
  width: 72px;
}

/* Column layout for control clusters */
#mobile-controls .controls-left,
#mobile-controls .controls-center,
#mobile-controls .controls-arrows {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Stack shoot/reload and store/jump/select with spacing */
#mobile-controls .controls-left .control-btn,
#mobile-controls .controls-center .control-btn {
  margin-bottom: 6px;
}

/* Directional pad layout */
#mobile-controls .controls-arrows {
  flex-direction: column;
  align-items: center;
}

#mobile-controls .arrow-row {
  display: flex;
  justify-content: center;
  align-items: center;
}

#mobile-controls .arrow-row .control-btn {
  margin: 0 4px;
}

/* Adjust canvas sizing on small screens to leave room for the mobile controls */
@media (max-width: 768px) {
  #game-canvas {
    position: absolute;
    top: 0;
    left: 0;
    transform: none;
    /* Fill the width of the viewport and subtract the control bar height to
       maintain aspect ratio.  Because the canvas has a fixed internal
       resolution, its CSS height must be computed separately. */
    width: 100vw;
    height: calc(100vh - var(--controls-height));
  }
}

/* Style the canvas. By default it is fixed to 800×450 pixels; on larger screens we scale it up while preserving
   the aspect ratio by using CSS transforms. */
#game-canvas {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  image-rendering: pixelated;
  /* Ensure crisp rendering of pixel art */
}

/* Heads‑up display (HUD) elements */
.hud {
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 100;
  font-size: 16px;
  line-height: 1.4;
  pointer-events: none;
}

.menu-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 200;
}

.menu-overlay h1 {
  margin-bottom: 20px;
  font-size: 32px;
}

.menu-overlay .option {
  padding: 8px 12px;
  margin: 4px 0;
  cursor: default;
}

.menu-overlay .selected {
  background: #444;
}
